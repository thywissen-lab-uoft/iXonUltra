clear composite_data
composite_data = struct;
%% Saving and Output

output_filename = '2024_03_shake_2.5Er_saturation';
doUpload = 1;
GDrive_root =['G:\My Drive\Lattice Shared\SharedData\Conductivity_Saturated_23-24'];

%%
% 200.4 G
composite_data(end+1).Name = '200.4 G 03/01';
composite_data(end).Runs = [
    2024 03 01 13;
    2024 03 01 14;
    2024 03 01 15;
    2024 03 01 16;
    2024 03 01 17;
    2024 03 01 18;
    2024 03 01 19;
    2024 03 01 21;
    2024 03 01 22;
    2024 03 01 23;
    2024 03 01 24;
    2024 03 01 25;
    2024 03 01 26;
    2024 03 01 27;
    2024 03 01 28;
    2024 03 01 29;
    ];

% 199.4 G
composite_data(end+1).Name = '199.4 G 03/04';
composite_data(end).Runs = [
    2024 03 04 05;
    2024 03 04 06;
    2024 03 04 07;
    2024 03 04 08;
    2024 03 04 09;
    2024 03 04 10;
    2024 03 04 11;
    2024 03 04 13;
    2024 03 04 14;
    2024 03 04 15;
    2024 03 04 16;
    2024 03 04 17;
    2024 03 04 18;
    2024 03 04 19;
    2024 03 04 20;
    2024 03 04 21;
    ];

% 200 G
composite_data(end+1).Name = '200 G 03/05';
composite_data(end).Runs = [
    2024 03 05 06;
    2024 03 05 07;
    2024 03 05 08;
    2024 03 05 09;
    2024 03 05 10;
    2024 03 05 11;
    2024 03 05 12;
    2024 03 05 14;
    2024 03 05 15;
    2024 03 05 16;
    2024 03 05 17;
    2024 03 05 18;
    2024 03 05 19;
    2024 03 05 20;
    2024 03 05 21;
    2024 03 05 22;
    ];

% 198.5
composite_data(end+1).Name = '198.5 G 03/06';
composite_data(end).Runs = [
    2024 03 06 07;
    2024 03 06 08;
    2024 03 06 09;
    2024 03 06 10;
    2024 03 06 11;
    2024 03 06 12;
    2024 03 06 13;
    2024 03 06 15;
    2024 03 06 16;
    2024 03 06 17;
    2024 03 06 18;
    2024 03 06 19;
    2024 03 06 20;
    2024 03 06 21;
    2024 03 06 22;
    2024 03 06 23;
    ];

% 200.8 G
composite_data(end+1).Name = '200.8 G 03/07';
composite_data(end).Runs = [
    2024 03 07 06;
    2024 03 07 07;
    2024 03 07 08;
    2024 03 07 09;
    2024 03 07 10;
    2024 03 07 11;
    2024 03 07 12;
    2024 03 07 14;
    2024 03 07 15;
    2024 03 07 16;
    2024 03 07 17;
    2024 03 07 18;
    2024 03 07 19;
    2024 03 07 20;
    2024 03 07 21;
    2024 03 07 22;
    
    ];

% 200.9 G
composite_data(end+1).Name = '200.9 G 03/08';
composite_data(end).Runs = [
    2024 03 08 05;
    2024 03 08 06;
    2024 03 08 07;
    2024 03 08 08;
    2024 03 08 09;
    2024 03 08 10;
    2024 03 08 11;
    2024 03 08 13;
    2024 03 08 14;
    2024 03 08 15;
    2024 03 08 16;
    2024 03 08 17;
    2024 03 08 18;
    2024 03 08 19;
    2024 03 08 20;
    2024 03 08 21;
    
    ];

% 201.1 G (missing QPD analysis)
composite_data(end+1).Name = '201.1 G 03/14';
composite_data(end).Runs = [
    2024 03 14 06;
    2024 03 14 07;
    2024 03 14 08;
    2024 03 14 09;
    2024 03 14 10;
    2024 03 14 11;
    2024 03 14 12;
    2024 03 14 14;
    2024 03 14 15;
    2024 03 14 16;
    2024 03 14 17;
    2024 03 14 18;
    2024 03 14 19;
    2024 03 14 20;
    2024 03 14 21;
    2024 03 14 22;
    ];

% 200.65 G
composite_data(end+1).Name = '200.65 G 03/26';
composite_data(end).Runs = [    
    2024 03 26 06;
    2024 03 26 07;
    2024 03 26 08;
    2024 03 26 09;
    2024 03 26 10;
    2024 03 26 11;
%     2024 03 26 12;
    2024 03 26 14;
    2024 03 26 15;
    2024 03 26 16;
    2024 03 26 17;
    2024 03 26 18;
    2024 03 26 19;
%     2024 03 26 20;
    2024 03 26 21;
    2024 03 26 22;
    ];

% 190 G preheat at 201G for 750 ms, 150 ms mod ramp time 04/11
composite_data(end+1).Name = '190 G 04/11';
composite_data(end).Runs =  [
    2024 04 11 13;
    2024 04 11 06;
    2024 04 11 07;
    2024 04 11 08;
    2024 04 11 09;
    2024 04 11 10;
    2024 04 11 11;
    2024 04 11 12;
    2024 04 11 17;
    2024 04 11 15;
    2024 04 11 16;
    2024 04 11 18;
    2024 04 11 19;
    2024 04 11 20;
    2024 04 11 21;
    2024 04 11 22;
    2024 04 11 23;
    ];

composite_data(1)=[];
%% Gather All Data
composite_data = gatherCompositeData(composite_data);

%% Upload the data

 try
     if ~exist(GDrive_root,'dir')
     mkdir(GDrive_root);
     end
 end
 
 if  doUpload && exist(GDrive_root,'dir')   
     fprintf('upload to google drive ...');
    gFile = fullfile(GDrive_root,[output_filename '.mat']);
    save(gFile,'composite_data'); 
    disp('done!')
 end
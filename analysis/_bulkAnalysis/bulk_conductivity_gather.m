
%% Define Runs Select runs
clear composite_data
composite_data = struct;

% 190 G
% composite_data(1).Name = '190 G 02/21';
% composite_data(1).Runs = [2024 02 21 08;
%     2024 02 21 09;
%     2024 02 21 10;
%     2024 02 21 11;
%     2024 02 21 12;
%     2024 02 21 13;
%     2024 02 21 14;
%     2024 02 21 15;
%     2024 02 21 17;
%     2024 02 21 18;
%     2024 02 21 19;
%     2024 02 21 20;
%     2024 02 21 21;
%     2024 02 21 22;
%     2024 02 21 23;
%     2024 02 21 24;
%     2024 02 21 25;
%     ];

% 196.5 G
% composite_data(2).Name = '196.5 G 02/23';
% composite_data(2).Runs = [
%     2024 02 23 06;
%     2024 02 23 07;
%     2024 02 23 08;
%     2024 02 23 09;
%     2024 02 23 10;
%     2024 02 23 11;
%     2024 02 23 12;
%     2024 02 23 13;
%     2024 02 23 14;
%     2024 02 23 16;
%     2024 02 23 17;
%     2024 02 23 18;
%     2024 02 23 19;
%     2024 02 23 20;
%     2024 02 23 21;
%     2024 02 23 22;
%     2024 02 23 23;
%     2024 02 23 24;
%     2024 02 23 25;
%     ];

% 190 G
% composite_data(3).Name = '190 G 02/26';
% composite_data(3).Runs = [
%     2024 02 26 04;
%     2024 02 26 05;
%     2024 02 26 06;
%     2024 02 26 07;
%     2024 02 26 08;
%     2024 02 26 09;
%     2024 02 26 10;
%     2024 02 26 11;
%     2024 02 26 12;
%     2024 02 26 14;
%     2024 02 26 15;
%     2024 02 26 16;
%     2024 02 26 17;
%     2024 02 26 18;
%     2024 02 26 19;
%     2024 02 26 20;
%     2024 02 26 21;
%     2024 02 26 22;
%     2024 02 26 23;
%     2024 02 26 24;
%     ];

% 201 G
% composite_data(4).Name = '201 G 02/27';
% composite_data(4).Runs = [
%     2024 02 27 05;
%     2024 02 27 06;
%     2024 02 27 07;
%     2024 02 27 08;
%     2024 02 27 09;
%     2024 02 27 10;
%     2024 02 27 11;
%     2024 02 27 13;
%     2024 02 27 14;
%     2024 02 27 15;
%     2024 02 27 16;
%     2024 02 27 17;
%     2024 02 27 18;
%     2024 02 27 19;
%     2024 02 27 20;
%     2024 02 27 21;
% 
%     ];

% 200.4 G
composite_data(end+1).Name = '200.4 G 03/01';
composite_data(end).Runs = [
    2024 03 01 13;
    2024 03 01 14;
    2024 03 01 15;
    2024 03 01 16;
    2024 03 01 17;
    2024 03 01 18;
    2024 03 01 19;
    2024 03 01 21;
    2024 03 01 22;
    2024 03 01 23;
    2024 03 01 24;
    2024 03 01 25;
    2024 03 01 26;
    2024 03 01 27;
    2024 03 01 28;
    2024 03 01 29;
    ];

% 199.4 G
composite_data(end+1).Name = '199.4 G 03/04';
composite_data(end).Runs = [
    2024 03 04 05;
    2024 03 04 06;
    2024 03 04 07;
    2024 03 04 08;
    2024 03 04 09;
    2024 03 04 10;
    2024 03 04 11;
    2024 03 04 13;
    2024 03 04 14;
    2024 03 04 15;
    2024 03 04 16;
    2024 03 04 17;
    2024 03 04 18;
    2024 03 04 19;
    2024 03 04 20;
    2024 03 04 21;
    ];

% 200 G
composite_data(end+1).Name = '200 G 03/05';
composite_data(end).Runs = [
    2024 03 05 06;
    2024 03 05 07;
    2024 03 05 08;
    2024 03 05 09;
    2024 03 05 10;
    2024 03 05 11;
    2024 03 05 12;
    2024 03 05 14;
    2024 03 05 15;
    2024 03 05 16;
    2024 03 05 17;
    2024 03 05 18;
    2024 03 05 19;
    2024 03 05 20;
    2024 03 05 21;
    2024 03 05 22;
    ];

% 198.5
composite_data(end+1).Name = '198.5 G 03/06';
composite_data(end).Runs = [
    2024 03 06 07;
    2024 03 06 08;
    2024 03 06 09;
    2024 03 06 10;
    2024 03 06 11;
    2024 03 06 12;
    2024 03 06 13;
    2024 03 06 15;
    2024 03 06 16;
    2024 03 06 17;
    2024 03 06 18;
    2024 03 06 19;
    2024 03 06 20;
    2024 03 06 21;
    2024 03 06 22;
    2024 03 06 23;
    ];

% 200.8 G
composite_data(end+1).Name = '200.8 G 03/07';
composite_data(end).Runs = [
    2024 03 07 06;
    2024 03 07 07;
    2024 03 07 08;
    2024 03 07 09;
    2024 03 07 10;
    2024 03 07 11;
    2024 03 07 12;
    2024 03 07 14;
    2024 03 07 15;
    2024 03 07 16;
    2024 03 07 17;
    2024 03 07 18;
    2024 03 07 19;
    2024 03 07 20;
    2024 03 07 21;
    2024 03 07 22;
    
    ];

% 200.9 G
composite_data(end+1).Name = '200.9 G 03/08';
composite_data(end).Runs = [
    2024 03 08 05;
    2024 03 08 06;
    2024 03 08 07;
    2024 03 08 08;
    2024 03 08 09;
    2024 03 08 10;
    2024 03 08 11;
    2024 03 08 13;
    2024 03 08 14;
    2024 03 08 15;
    2024 03 08 16;
    2024 03 08 17;
    2024 03 08 18;
    2024 03 08 19;
    2024 03 08 20;
    2024 03 08 21;
    
    ];

% 201.1 G (missing QPD analysis)
composite_data(end+1).Name = '201.1 G 03/14';
composite_data(end).Runs = [
    2024 03 14 06;
    2024 03 14 07;
    2024 03 14 08;
    2024 03 14 09;
    2024 03 14 10;
    2024 03 14 11;
    2024 03 14 12;
    2024 03 14 14;
    2024 03 14 15;
    2024 03 14 16;
    2024 03 14 17;
    2024 03 14 18;
    2024 03 14 19;
    2024 03 14 20;
    2024 03 14 21;
    2024 03 14 22;
    ];

% 200.65 G
% We think we were overdriving here
% composite_data(end+1).Name = '200.65 G 03/19';
% composite_data(end).Runs = [    
%     2024 03 19 06;
%     2024 03 19 07;
%     2024 03 19 08;
%     2024 03 19 09;
%     2024 03 19 10;
%     2024 03 19 11;
%     2024 03 19 12;
%     2024 03 19 14;
%     2024 03 19 15;
%     2024 03 19 16;
%     2024 03 19 17;
%     2024 03 19 18;
%     2024 03 19 19;
%     2024 03 19 20;
%     2024 03 19 21;
%     2024 03 19 22;
%     ];


% 200.65 G
composite_data(end+1).Name = '200.65 G 03/26';
composite_data(end).Runs = [    
    2024 03 26 06;
    2024 03 26 07;
    2024 03 26 08;
    2024 03 26 09;
    2024 03 26 10;
    2024 03 26 11;
%     2024 03 26 12;
    2024 03 26 14;
    2024 03 26 15;
    2024 03 26 16;
    2024 03 26 17;
    2024 03 26 18;
    2024 03 26 19;
%     2024 03 26 20;
    2024 03 26 21;
    2024 03 26 22;
    ];


% 190 G
composite_data(end+1).Name = '190 G 03/28';
composite_data(end).Runs = [
    2024 03 28 07;
%     2024 03 28 08;
    2024 03 28 09;
    2024 03 28 10;
    2024 03 28 11;
    2024 03 28 12;
    2024 03 28 13;
    2024 03 28 15;
    2024 03 28 16;
%     2024 03 28 17;
    2024 03 28 18;
    2024 03 28 19;
    2024 03 28 20;
    2024 03 28 21;
    2024 03 28 22;
    2024 03 28 23;
    ];

% 195 G
composite_data(end+1).Name = '195 G 03/28';
composite_data(end).Runs = [   
    2024 03 28 25;
    2024 03 28 26;
%     2024 03 28 27;
    2024 03 28 28;
%     2024 03 28 29;
    2024 03 28 30;
%     2024 03 28 31;
    2024 03 28 33;
    2024 03 28 34;
    2024 03 28 35;
    2024 03 28 36;
    2024 03 28 37;
    2024 03 28 38;
    2024 03 28 39;
    2024 03 28 40;
    ];

composite_data(1)=[];
%% Gather All Data


for kk=1:length(composite_data)
    dir_list = ixon_findRunDirectory(composite_data(kk).Runs);
    clear condfit;
    clear digdata;
    clear digmean
    disp(repmat('-',1,60));disp(repmat('-',1,60));   
    disp(['loading ' composite_data(kk).Name '...']);
    for nn=1:length(dir_list)
        imgdir = dir_list{nn};
        s1 = fullfile(imgdir,'Figures','conductivity_data.mat');
        s2 = fullfile(imgdir,'Figures','digdata.mat');
        
        %Load Files        
        condfit(nn)=load(s1);
        digdata(nn)=load(s2);      
        digmean{nn} = mean(digdata(nn).Zdig,3);
    end
    composite_data(kk).condata = condfit;
    composite_data(kk).digmean = digmean;  
    composite_data(kk).digdata = digdata;
end


%% Upload data
doUpload = 1;
GDrive_root =['G:\My Drive\Lattice Shared\SharedData\Conductivity_Saturated_23-24\shake_25Er'];

 try
     if ~exist(GDrive_root,'dir')
     mkdir(GDrive_root);
     end
 end
 
 if  doUpload && exist(GDrive_root,'dir')   
     disp('upload to google drive');
    gFile = fullfile(GDrive_root,'composite_data.mat');
    save(gFile,'composite_data'); 
 end
